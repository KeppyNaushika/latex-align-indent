\documentclass{article}
\usepackage{tikz}

\begin{document}

% Problem case 1: foreach loop
\foreach \x in {-15,-14,...,15} {
\draw[dash pattern=on 0 off .25mm, line cap=round] (\x,-15.25) -- (\x,15.25);
}

% Problem case 2: Complex newcommand
\newcommand{\drawInCoordinatePlane}[7]{
% #1: fx (関数の式、例: \x+2)
% #2: x_min

% clippingして関数を描画
\begin{scope}
  \clip (#2,#4) rectangle (#3,#5);
  \draw[thick, domain=#2:#3] plot (\x, {#1});
\end{scope}

% x=#3での関数値を直接計算
\pgfmathsetmacro{\xmax}{#3}
}

\end{document}